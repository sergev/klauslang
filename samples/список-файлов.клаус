программа СписокФайлов;
переменные
    шаблон: строка;
    поиск: объект;
    инфо: ФайлИнфо;
    найдено: логическое;
начало
    шаблон := файлПолныйПуть(файлДомКат() ++ "*");
    вывести(шаблон, НС);
    поиск := файлПервый(шаблон, инфо);
    если поиск <> пусто то начало
        цикл начало
            если инфо.атрибуты & фаСкрытый = 0 то начало
                если инфо.атрибуты & фаКаталог <> 0 то
                    вывести(формат("%20с %8ш %19м %с", "<каталог>", инфо.атрибуты, инфо.возраст, инфо.имя), НС)
                иначе 
                    вывести(формат("%20ц %8ш %19м %с", инфо.размер, инфо.атрибуты, инфо.возраст, инфо.имя), НС);
            конец;
            найдено := файлСледующий(поиск, инфо);
        конец пока найдено;
    напоследок
        уничтожить(поиск);
    конец;
окончание.
